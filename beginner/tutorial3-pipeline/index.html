<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>파이프라인 | Learn Wgpu</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/learn-wgpu/assets/css/0.styles.81cb5453.css" as="style"><link rel="preload" href="/learn-wgpu/assets/js/app.796ffba2.js" as="script"><link rel="preload" href="/learn-wgpu/assets/js/3.d666109b.js" as="script"><link rel="preload" href="/learn-wgpu/assets/js/2.3bb15672.js" as="script"><link rel="preload" href="/learn-wgpu/assets/js/42.94b3689b.js" as="script"><link rel="preload" href="/learn-wgpu/assets/js/20.178554f0.js" as="script"><link rel="preload" href="/learn-wgpu/assets/js/37.a2b9f953.js" as="script"><link rel="prefetch" href="/learn-wgpu/assets/js/1.187b396e.js"><link rel="prefetch" href="/learn-wgpu/assets/js/10.a432dd1d.js"><link rel="prefetch" href="/learn-wgpu/assets/js/11.3ec612b9.js"><link rel="prefetch" href="/learn-wgpu/assets/js/12.e324cc11.js"><link rel="prefetch" href="/learn-wgpu/assets/js/13.04ed804c.js"><link rel="prefetch" href="/learn-wgpu/assets/js/14.1b3a90b7.js"><link rel="prefetch" href="/learn-wgpu/assets/js/15.623030e6.js"><link rel="prefetch" href="/learn-wgpu/assets/js/16.4611bcb5.js"><link rel="prefetch" href="/learn-wgpu/assets/js/17.709767f5.js"><link rel="prefetch" href="/learn-wgpu/assets/js/18.938c6bd0.js"><link rel="prefetch" href="/learn-wgpu/assets/js/19.fad5e54d.js"><link rel="prefetch" href="/learn-wgpu/assets/js/21.9e299fcc.js"><link rel="prefetch" href="/learn-wgpu/assets/js/22.c7ead717.js"><link rel="prefetch" href="/learn-wgpu/assets/js/23.9d0a23fc.js"><link rel="prefetch" href="/learn-wgpu/assets/js/24.fc889c2f.js"><link rel="prefetch" href="/learn-wgpu/assets/js/25.941e3dd6.js"><link rel="prefetch" href="/learn-wgpu/assets/js/26.f270b4cd.js"><link rel="prefetch" href="/learn-wgpu/assets/js/27.858fd637.js"><link rel="prefetch" href="/learn-wgpu/assets/js/28.0f431dfe.js"><link rel="prefetch" href="/learn-wgpu/assets/js/29.098da917.js"><link rel="prefetch" href="/learn-wgpu/assets/js/30.379eac67.js"><link rel="prefetch" href="/learn-wgpu/assets/js/31.3b679374.js"><link rel="prefetch" href="/learn-wgpu/assets/js/32.f42ff376.js"><link rel="prefetch" href="/learn-wgpu/assets/js/33.ac5b507a.js"><link rel="prefetch" href="/learn-wgpu/assets/js/34.50a4fad6.js"><link rel="prefetch" href="/learn-wgpu/assets/js/35.be37c498.js"><link rel="prefetch" href="/learn-wgpu/assets/js/36.f68470b2.js"><link rel="prefetch" href="/learn-wgpu/assets/js/38.10571145.js"><link rel="prefetch" href="/learn-wgpu/assets/js/39.91625f3e.js"><link rel="prefetch" href="/learn-wgpu/assets/js/4.67c56359.js"><link rel="prefetch" href="/learn-wgpu/assets/js/40.7624e351.js"><link rel="prefetch" href="/learn-wgpu/assets/js/41.64fc17ac.js"><link rel="prefetch" href="/learn-wgpu/assets/js/43.d9e52ef4.js"><link rel="prefetch" href="/learn-wgpu/assets/js/44.6f8c417d.js"><link rel="prefetch" href="/learn-wgpu/assets/js/45.548c112a.js"><link rel="prefetch" href="/learn-wgpu/assets/js/46.038ca8e5.js"><link rel="prefetch" href="/learn-wgpu/assets/js/47.05a5e491.js"><link rel="prefetch" href="/learn-wgpu/assets/js/48.8b993979.js"><link rel="prefetch" href="/learn-wgpu/assets/js/49.a105f8a6.js"><link rel="prefetch" href="/learn-wgpu/assets/js/5.c397ffe5.js"><link rel="prefetch" href="/learn-wgpu/assets/js/50.455d3855.js"><link rel="prefetch" href="/learn-wgpu/assets/js/51.b72dcfb2.js"><link rel="prefetch" href="/learn-wgpu/assets/js/52.657fe2a7.js"><link rel="prefetch" href="/learn-wgpu/assets/js/53.cd02a60a.js"><link rel="prefetch" href="/learn-wgpu/assets/js/54.26e3ff32.js"><link rel="prefetch" href="/learn-wgpu/assets/js/55.7997dcfe.js"><link rel="prefetch" href="/learn-wgpu/assets/js/56.a47b4481.js"><link rel="prefetch" href="/learn-wgpu/assets/js/57.c0170dc5.js"><link rel="prefetch" href="/learn-wgpu/assets/js/58.5b1cd8dd.js"><link rel="prefetch" href="/learn-wgpu/assets/js/59.13d91b4c.js"><link rel="prefetch" href="/learn-wgpu/assets/js/6.0dfb00be.js"><link rel="prefetch" href="/learn-wgpu/assets/js/60.718010a4.js"><link rel="prefetch" href="/learn-wgpu/assets/js/61.4c5bf94a.js"><link rel="prefetch" href="/learn-wgpu/assets/js/62.e415c60b.js"><link rel="prefetch" href="/learn-wgpu/assets/js/63.77367ef6.js"><link rel="prefetch" href="/learn-wgpu/assets/js/64.eb8b208f.js"><link rel="prefetch" href="/learn-wgpu/assets/js/65.fa399594.js"><link rel="prefetch" href="/learn-wgpu/assets/js/66.4d713c1a.js"><link rel="prefetch" href="/learn-wgpu/assets/js/67.3dcd188e.js"><link rel="prefetch" href="/learn-wgpu/assets/js/68.bbf40869.js"><link rel="prefetch" href="/learn-wgpu/assets/js/69.cf58d7ac.js"><link rel="prefetch" href="/learn-wgpu/assets/js/70.e84f83b3.js"><link rel="prefetch" href="/learn-wgpu/assets/js/71.3e200253.js"><link rel="prefetch" href="/learn-wgpu/assets/js/72.e40b9171.js"><link rel="prefetch" href="/learn-wgpu/assets/js/9.a241c78d.js"><link rel="prefetch" href="/learn-wgpu/assets/js/vendors~docsearch.d7f0baa9.js">
    <link rel="stylesheet" href="/learn-wgpu/assets/css/0.styles.81cb5453.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="inner"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learn-wgpu/" class="home-link router-link-active"><!----> <span class="site-name">Learn Wgpu</span></a> <div class="links"><!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="docs-layout"><aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/learn-wgpu/" aria-current="page" class="sidebar-link">소개</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Beginner</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learn-wgpu/beginner/tutorial1-window/" class="sidebar-link">의존성과 윈도우</a></li><li><a href="/learn-wgpu/beginner/tutorial2-surface/" class="sidebar-link">표면(The Surface)</a></li><li><a href="/learn-wgpu/beginner/tutorial3-pipeline/" aria-current="page" class="active sidebar-link">파이프라인</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-wgpu/beginner/tutorial3-pipeline/#파이프라인이란-무엇일까요" class="sidebar-link">파이프라인이란 무엇일까요?</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/beginner/tutorial3-pipeline/#잠깐-셰이더라고요" class="sidebar-link">잠깐, 셰이더라고요?</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/beginner/tutorial3-pipeline/#정점-프래그먼트-그게-뭔가요" class="sidebar-link">정점, 프래그먼트... 그게 뭔가요?</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/beginner/tutorial3-pipeline/#wgsl" class="sidebar-link">WGSL</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/beginner/tutorial3-pipeline/#셰이더-작성하기" class="sidebar-link">셰이더 작성하기</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/beginner/tutorial3-pipeline/#셰이더는-어떻게-사용하나요" class="sidebar-link">셰이더는 어떻게 사용하나요?</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/beginner/tutorial3-pipeline/#파이프라인-사용하기" class="sidebar-link">파이프라인 사용하기</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/beginner/tutorial3-pipeline/#데모" class="sidebar-link">데모</a></li><li class="sidebar-sub-header"><a href="/learn-wgpu/beginner/tutorial3-pipeline/#도전-과제" class="sidebar-link">도전 과제</a></li></ul></li><li><a href="/learn-wgpu/beginner/tutorial4-buffer/" class="sidebar-link">버퍼와 인덱스</a></li><li><a href="/learn-wgpu/beginner/tutorial5-textures/" class="sidebar-link">텍스처와 바인드 그룹</a></li><li><a href="/learn-wgpu/beginner/tutorial6-uniforms/" class="sidebar-link">유니폼 버퍼와 3D 카메라</a></li><li><a href="/learn-wgpu/beginner/tutorial7-instancing/" class="sidebar-link">인스턴싱(Instancing)</a></li><li><a href="/learn-wgpu/beginner/tutorial8-depth/" class="sidebar-link">깊이 버퍼 (The Depth Buffer)</a></li><li><a href="/learn-wgpu/beginner/tutorial9-models/" class="sidebar-link">모델 로딩</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Intermediate</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learn-wgpu/intermediate/tutorial10-lighting/" class="sidebar-link">조명 다루기</a></li><li><a href="/learn-wgpu/intermediate/tutorial11-normals/" class="sidebar-link">노멀 매핑 (Normal Mapping)</a></li><li><a href="/learn-wgpu/intermediate/tutorial12-camera/" class="sidebar-link">더 나은 카메라</a></li><li><a href="/learn-wgpu/intermediate/tutorial13-hdr/" class="sidebar-link">하이 다이내믹 레인지 렌더링 (High Dynamic Range Rendering)</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Showcase</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>News</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="파이프라인"><a href="#파이프라인" class="header-anchor">#</a> 파이프라인</h1> <h2 id="파이프라인이란-무엇일까요"><a href="#파이프라인이란-무엇일까요" class="header-anchor">#</a> 파이프라인이란 무엇일까요?</h2> <p>OpenGL에 익숙하다면 셰이더 프로그램을 사용했던 것을 기억하실 겁니다. 파이프라인은 그것의 더 강력한(robust) 버전이라고 생각할 수 있습니다. 파이프라인은 GPU가 특정 데이터 집합에 대해 수행할 모든 작업을 설명합니다. 이 섹션에서는 특별히 <code>RenderPipeline</code>(렌더 파이프라인)을 만들어 보겠습니다.</p> <h2 id="잠깐-셰이더라고요"><a href="#잠깐-셰이더라고요" class="header-anchor">#</a> 잠깐, 셰이더라고요?</h2> <p>셰이더는 데이터에 대한 연산을 수행하기 위해 GPU로 보내는 작은 프로그램입니다. 주로 세 가지 유형의 셰이더가 있습니다: 정점(vertex), 프래그먼트(fragment), 그리고 컴퓨트(compute) 셰이더입니다. 지오메트리 셰이더나 테셀레이션 셰이더와 같은 다른 종류도 있지만, WebGL에서는 지원되지 않습니다. 이들은 일반적으로 피하는 것이 좋습니다 (<a href="https://community.khronos.org/t/does-the-use-of-geometric-shaders-significantly-reduce-performance/106326" target="_blank" rel="noopener noreferrer">관련 토론 보기<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>). 지금은 정점 셰이더와 프래그먼트 셰이더만 사용할 것입니다.</p> <h2 id="정점-프래그먼트-그게-뭔가요"><a href="#정점-프래그먼트-그게-뭔가요" class="header-anchor">#</a> 정점, 프래그먼트... 그게 뭔가요?</h2> <p>정점(vertex)은 3D(또는 2D) 공간의 한 점입니다. 이 정점들은 2개씩 묶여 선을 이루거나, 3개씩 묶여 삼각형을 이룹니다.</p> <img alt="정점 그래픽" src="/learn-wgpu/assets/img/tutorial3-pipeline-vertices.5e39e8fc.png"> <p>대부분의 최신 렌더링은 삼각형을 사용하여 간단한 도형(큐브 등)부터 복잡한 모양(사람 등)까지 모든 형태를 만듭니다. 이 삼각형들은 정점들로 저장되는데, 이 정점들은 삼각형의 각 꼭짓점을 구성하는 점들입니다.</p> <p>우리는 정점 셰이더를 사용하여 정점들을 조작하고, 원하는 모양으로 변형시킵니다.</p> <p>그 후 정점들은 프래그먼트(fragment)로 변환됩니다. 결과 이미지의 모든 픽셀은 최소 하나의 프래그먼트를 갖게 됩니다. 각 프래그먼트는 해당하는 픽셀에 복사될 색상을 가집니다. 프래그먼트 셰이더는 프래그먼트가 어떤 색을 가질지 결정합니다.</p> <h2 id="wgsl"><a href="#wgsl" class="header-anchor">#</a> WGSL</h2> <p><a href="https://www.w3.org/TR/WGSL/" target="_blank" rel="noopener noreferrer">WebGPU 셰이딩 언어(WebGPU Shading Language)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (WGSL)는 WebGPU를 위한 셰이더 언어입니다. WGSL의 개발은 백엔드에 해당하는 셰이더 언어로 쉽게 변환되는 것에 초점을 맞추고 있습니다. 예를 들어, Vulkan을 위한 SPIR-V, Metal을 위한 MSL, DX12를 위한 HLSL, OpenGL을 위한 GLSL로 변환됩니다. 이 변환은 내부적으로 이루어지며, 우리는 보통 세부 사항에 대해 신경 쓸 필요가 없습니다. wgpu의 경우, 이 작업은 <a href="https://github.com/gfx-rs/naga" target="_blank" rel="noopener noreferrer">naga<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>라는 라이브러리에 의해 수행됩니다.</p> <p>참고로, 이 글을 쓰는 시점에서 일부 WebGPU 구현은 SPIR-V도 지원하지만, 이는 WGSL로 전환하는 과도기 동안의 임시 조치일 뿐이며 제거될 예정입니다 (SPIR-V와 WGSL 이면의 드라마가 궁금하다면, <a href="https://kvark.github.io/spirv/2021/05/01/spirv-horrors.html" target="_blank" rel="noopener noreferrer">이 블로그 포스트<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>를 참조하세요).</p> <div class="note"><p>이전에 이 튜토리얼을 보신 분이라면 GLSL 대신 WGSL을 사용하도록 바뀐 것을 눈치채셨을 겁니다. GLSL 지원이 부차적인 관심사이고 WGSL이 WGPU의 핵심 언어라는 점을 고려하여, 모든 튜토리얼을 WGSL을 사용하도록 전환하기로 결정했습니다. 일부 쇼케이스 예제는 여전히 GLSL을 사용하지만, 메인 튜토리얼과 앞으로의 모든 예제는 WGSL을 사용할 것입니다.</p></div> <div class="note"><p>WGSL 명세와 WGPU에의 포함은 아직 개발 중입니다. 사용 중 문제가 발생하면 <a href="https://app.element.io/#/room/#wgpu:matrix.org" target="_blank" rel="noopener noreferrer">https://app.element.io/#/room/#wgpu:matrix.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>의 사람들에게 코드를 보여주는 것이 도움이 될 수 있습니다.</p></div> <h2 id="셰이더-작성하기"><a href="#셰이더-작성하기" class="header-anchor">#</a> 셰이더 작성하기</h2> <p><code>main.rs</code>와 같은 폴더에 <code>shader.wgsl</code> 파일을 만듭니다. <code>shader.wgsl</code>에 다음 코드를 작성하세요.</p> <div class="language-wgsl extra-class"><pre class="language-wgsl"><code><span class="token comment">// 정점 셰이더</span>

<span class="token keyword">struct</span> <span class="token class-name">VertexOutput</span> <span class="token punctuation">{</span>
    <span class="token punctuation">@</span><span class="token builtin-attribute"><span class="token attribute attr-name">builtin</span><span class="token punctuation">(</span><span class="token built-in-values attr-value">position</span><span class="token punctuation">)</span></span> clip_position<span class="token punctuation">:</span> <span class="token builtin">vec4</span><span class="token punctuation">&lt;</span><span class="token builtin">f32</span><span class="token punctuation">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">@</span><span class="token attributes attr-name">vertex</span>
<span class="token keyword">fn</span> <span class="token functions function">vs_main</span><span class="token punctuation">(</span>
    <span class="token punctuation">@</span><span class="token builtin-attribute"><span class="token attribute attr-name">builtin</span><span class="token punctuation">(</span><span class="token built-in-values attr-value">vertex_index</span><span class="token punctuation">)</span></span> in_vertex_index<span class="token punctuation">:</span> <span class="token builtin">u32</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">VertexOutput</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> out<span class="token punctuation">:</span> <span class="token class-name">VertexOutput</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token builtin">f32</span><span class="token punctuation">(</span><span class="token int-literal number">1</span> <span class="token operator">-</span> <span class="token builtin">i32</span><span class="token punctuation">(</span>in_vertex_index<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token decimal-float-literal number">0.5</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token builtin">f32</span><span class="token punctuation">(</span><span class="token builtin">i32</span><span class="token punctuation">(</span>in_vertex_index <span class="token operator">&amp;</span> <span class="token int-literal number">1u</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token int-literal number">2</span> <span class="token operator">-</span> <span class="token int-literal number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token decimal-float-literal number">0.5</span><span class="token punctuation">;</span>
    out<span class="token punctuation">.</span>clip_position <span class="token operator">=</span> <span class="token builtin">vec4</span><span class="token punctuation">&lt;</span><span class="token builtin">f32</span><span class="token punctuation">&gt;</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token decimal-float-literal number">0.0</span><span class="token punctuation">,</span> <span class="token decimal-float-literal number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>먼저, 정점 셰이더의 출력을 저장할 <code>struct</code>(구조체)를 선언합니다. 현재는 단 하나의 필드, 즉 정점의 <code>clip_position</code>만 있습니다. <code>@builtin(position)</code> 부분은 WGPU에게 이 값을 정점의 <a href="https://en.wikipedia.org/wiki/Clip_coordinates" target="_blank" rel="noopener noreferrer">클립 좌표(clip coordinates)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>로 사용하라고 알려줍니다. 이는 GLSL의 <code>gl_Position</code> 변수와 유사합니다.</p> <div class="note"><p><code>vec4</code>와 같은 벡터 타입은 제네릭입니다. 현재는 벡터가 담을 값의 타입을 명시해야 합니다. 따라서 32비트 부동소수점을 사용하는 3D 벡터는 <code>vec3&lt;f32&gt;</code>가 됩니다.</p></div> <p>셰이더 코드의 다음 부분은 <code>vs_main</code> 함수입니다. <code>@vertex</code>를 사용하여 이 함수가 정점 셰이더의 유효한 진입점임을 표시합니다. 우리는 <code>@builtin(vertex_index)</code>로부터 값을 받는 <code>in_vertex_index</code>라는 <code>u32</code>를 입력으로 받습니다.</p> <p>그런 다음 <code>VertexOutput</code> 구조체를 사용하여 <code>out</code>이라는 변수를 선언합니다. 그리고 삼각형의 <code>x</code>와 <code>y</code>를 위한 두 개의 다른 변수를 만듭니다.</p> <div class="note"><p><code>f32()</code>와 <code>i32()</code> 부분은 캐스팅(casting)의 예입니다.</p></div> <div class="note"><p><code>var</code>로 정의된 변수는 수정할 수 있지만 타입을 명시해야 합니다. <code>let</code>으로 생성된 변수는 타입을 추론할 수 있지만, 셰이더 내에서 값을 변경할 수 없습니다.</p></div> <p>이제 <code>clip_position</code>을 <code>out</code>에 저장할 수 있습니다. 그리고 <code>out</code>을 반환하면 정점 셰이더가 완성됩니다!</p> <div class="note"><p>사실 이 예제에서는 구조체가 꼭 필요하지 않았고, 다음과 같이 할 수도 있었습니다:</p> <div class="language-wgsl extra-class"><pre class="language-wgsl"><code><span class="token punctuation">@</span><span class="token attributes attr-name">vertex</span>
<span class="token keyword">fn</span> <span class="token functions function">vs_main</span><span class="token punctuation">(</span>
    <span class="token punctuation">@</span><span class="token builtin-attribute"><span class="token attribute attr-name">builtin</span><span class="token punctuation">(</span><span class="token built-in-values attr-value">vertex_index</span><span class="token punctuation">)</span></span> in_vertex_index<span class="token punctuation">:</span> <span class="token builtin">u32</span>
<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">@</span><span class="token builtin-attribute"><span class="token attribute attr-name">builtin</span><span class="token punctuation">(</span><span class="token built-in-values attr-value">position</span><span class="token punctuation">)</span></span> <span class="token builtin">vec4</span><span class="token punctuation">&lt;</span><span class="token builtin">f32</span><span class="token punctuation">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 정점 셰이더 코드...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>하지만 나중에 <code>VertexOutput</code>에 더 많은 필드를 추가할 것이므로, 지금부터 사용하는 것이 좋습니다.</p></div> <p>다음은 프래그먼트 셰이더입니다. 계속해서 <code>shader.wgsl</code>에 다음을 추가하세요:</p> <div class="language-wgsl extra-class"><pre class="language-wgsl"><code><span class="token comment">// 프래그먼트 셰이더</span>

<span class="token punctuation">@</span><span class="token attributes attr-name">fragment</span>
<span class="token keyword">fn</span> <span class="token functions function">fs_main</span><span class="token punctuation">(</span>in<span class="token punctuation">:</span> <span class="token class-name">VertexOutput</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">@</span><span class="token attributes attr-name">location</span><span class="token punctuation">(</span><span class="token int-literal number">0</span><span class="token punctuation">)</span> <span class="token builtin">vec4</span><span class="token punctuation">&lt;</span><span class="token builtin">f32</span><span class="token punctuation">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token builtin">vec4</span><span class="token punctuation">&lt;</span><span class="token builtin">f32</span><span class="token punctuation">&gt;</span><span class="token punctuation">(</span><span class="token decimal-float-literal number">0.3</span><span class="token punctuation">,</span> <span class="token decimal-float-literal number">0.2</span><span class="token punctuation">,</span> <span class="token decimal-float-literal number">0.1</span><span class="token punctuation">,</span> <span class="token decimal-float-literal number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>이 코드는 현재 프래그먼트의 색상을 갈색으로 설정합니다.</p> <div class="note"><p>정점 셰이더의 진입점 이름은 <code>vs_main</code>이고 프래그먼트 셰이더의 진입점 이름은 <code>fs_main</code>인 점에 주목하세요. 이전 버전의 wgpu에서는 두 함수의 이름이 같아도 괜찮았지만, 최신 <a href="https://www.w3.org/TR/WGSL/#declaration-and-scope" target="_blank" rel="noopener noreferrer">WGSL 명세<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>에서는 이 이름들이 달라야 합니다. 따라서, 위에서 언급한 (<code>wgpu</code> 예제에서 채택한) 명명 규칙이 이 튜토리얼 전체에서 사용됩니다.</p></div> <p><code>@location(0)</code> 부분은 WGPU에게 이 함수가 반환하는 <code>vec4</code> 값을 첫 번째 색상 타겟(color target)에 저장하라고 지시합니다. 이것이 무엇인지는 나중에 다루겠습니다.</p> <div class="note"><p><code>@builtin(position)</code>에 대해 주목할 점은, 프래그먼트 셰이더에서 이 값은 <a href="https://gpuweb.github.io/gpuweb/#coordinate-systems" target="_blank" rel="noopener noreferrer">프레임버퍼 공간(framebuffer space)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>에 있다는 것입니다. 즉, 창 크기가 800x600이라면 <code>clip_position</code>의 x와 y는 각각 0-800, 0-600 사이의 값이 되며, y = 0이 화면의 상단입니다. 이는 특정 프래그먼트의 픽셀 좌표를 알고 싶을 때 유용할 수 있지만, 위치 좌표를 원한다면 별도로 전달해야 합니다.</p> <div class="language-wgsl extra-class"><pre class="language-wgsl"><code><span class="token keyword">struct</span> <span class="token class-name">VertexOutput</span> <span class="token punctuation">{</span>
    <span class="token punctuation">@</span><span class="token builtin-attribute"><span class="token attribute attr-name">builtin</span><span class="token punctuation">(</span><span class="token built-in-values attr-value">position</span><span class="token punctuation">)</span></span> clip_position<span class="token punctuation">:</span> <span class="token builtin">vec4</span><span class="token punctuation">&lt;</span><span class="token builtin">f32</span><span class="token punctuation">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">@</span><span class="token attributes attr-name">location</span><span class="token punctuation">(</span><span class="token int-literal number">0</span><span class="token punctuation">)</span> vert_pos<span class="token punctuation">:</span> <span class="token builtin">vec3</span><span class="token punctuation">&lt;</span><span class="token builtin">f32</span><span class="token punctuation">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token punctuation">@</span><span class="token attributes attr-name">vertex</span>
<span class="token keyword">fn</span> <span class="token functions function">vs_main</span><span class="token punctuation">(</span>
    <span class="token punctuation">@</span><span class="token builtin-attribute"><span class="token attribute attr-name">builtin</span><span class="token punctuation">(</span><span class="token built-in-values attr-value">vertex_index</span><span class="token punctuation">)</span></span> in_vertex_index<span class="token punctuation">:</span> <span class="token builtin">u32</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">VertexOutput</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> out<span class="token punctuation">:</span> <span class="token class-name">VertexOutput</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token builtin">f32</span><span class="token punctuation">(</span><span class="token int-literal number">1</span> <span class="token operator">-</span> <span class="token builtin">i32</span><span class="token punctuation">(</span>in_vertex_index<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token decimal-float-literal number">0.5</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token builtin">f32</span><span class="token punctuation">(</span><span class="token builtin">i32</span><span class="token punctuation">(</span>in_vertex_index <span class="token operator">&amp;</span> <span class="token int-literal number">1u</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token int-literal number">2</span> <span class="token operator">-</span> <span class="token int-literal number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token decimal-float-literal number">0.5</span><span class="token punctuation">;</span>
    out<span class="token punctuation">.</span>clip_position <span class="token operator">=</span> <span class="token builtin">vec4</span><span class="token punctuation">&lt;</span><span class="token builtin">f32</span><span class="token punctuation">&gt;</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token decimal-float-literal number">0.0</span><span class="token punctuation">,</span> <span class="token decimal-float-literal number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    out<span class="token punctuation">.</span>vert_pos <span class="token operator">=</span> out<span class="token punctuation">.</span>clip_position<span class="token punctuation">.</span>xyz<span class="token punctuation">;</span>
    <span class="token keyword">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h2 id="셰이더는-어떻게-사용하나요"><a href="#셰이더는-어떻게-사용하나요" class="header-anchor">#</a> 셰이더는 어떻게 사용하나요?</h2> <p>이제 드디어 제목에서 언급한 파이프라인을 만들 차례입니다. 먼저, <code>State</code>를 다음과 같이 수정하여 필드를 추가합시다.</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token comment">// lib.rs</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">State</span> <span class="token punctuation">{</span>
    surface<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Surface</span><span class="token operator">&lt;</span><span class="token lifetime-annotation symbol">'static</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    device<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Device</span><span class="token punctuation">,</span>
    queue<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Queue</span><span class="token punctuation">,</span>
    config<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">SurfaceConfiguration</span><span class="token punctuation">,</span>
    is_surface_configured<span class="token punctuation">:</span> <span class="token keyword">bool</span><span class="token punctuation">,</span>
    <span class="token comment">// NEW!</span>
    render_pipeline<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">RenderPipeline</span><span class="token punctuation">,</span>
    window<span class="token punctuation">:</span> <span class="token class-name">Arc</span><span class="token operator">&lt;</span><span class="token class-name">Window</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>이제 <code>new()</code> 메서드로 이동하여 파이프라인을 만들기 시작합시다. <code>render_pipeline</code>을 만들려면 이전에 만든 셰이더를 불러와야 합니다.</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> shader <span class="token operator">=</span> device<span class="token punctuation">.</span><span class="token function">create_shader_module</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">ShaderModuleDescriptor</span> <span class="token punctuation">{</span>
    label<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token string">&quot;Shader&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    source<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">ShaderSource</span><span class="token punctuation">::</span><span class="token class-name">Wgsl</span><span class="token punctuation">(</span><span class="token macro property">include_str!</span><span class="token punctuation">(</span><span class="token string">&quot;shader.wgsl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">into</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="note"><p><code>include_wgsl!</code> 매크로를 사용하여 <code>ShaderModuleDescriptor</code>를 만드는 작은 단축키로 사용할 수도 있습니다.</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> shader <span class="token operator">=</span> device<span class="token punctuation">.</span><span class="token function">create_shader_module</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token macro property">include_wgsl!</span><span class="token punctuation">(</span><span class="token string">&quot;shader.wgsl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <p>한 가지 더, <code>PipelineLayout</code>을 만들어야 합니다. <code>Buffer</code>에 대해 다룬 후에 이 부분을 더 자세히 살펴보겠습니다.</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> render_pipeline_layout <span class="token operator">=</span>
    device<span class="token punctuation">.</span><span class="token function">create_pipeline_layout</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">PipelineLayoutDescriptor</span> <span class="token punctuation">{</span>
        label<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token string">&quot;Render Pipeline Layout&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        bind_group_layouts<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        push_constant_ranges<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>드디어 <code>render_pipeline</code>을 만들 준비가 모두 끝났습니다.</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> render_pipeline <span class="token operator">=</span> device<span class="token punctuation">.</span><span class="token function">create_render_pipeline</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">RenderPipelineDescriptor</span> <span class="token punctuation">{</span>
    label<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token string">&quot;Render Pipeline&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    layout<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>render_pipeline_layout<span class="token punctuation">)</span><span class="token punctuation">,</span>
    vertex<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">VertexState</span> <span class="token punctuation">{</span>
        module<span class="token punctuation">:</span> <span class="token operator">&amp;</span>shader<span class="token punctuation">,</span>
        entry_point<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token string">&quot;vs_main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 1.</span>
        buffers<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 2.</span>
        compilation_options<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">PipelineCompilationOptions</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    fragment<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">FragmentState</span> <span class="token punctuation">{</span> <span class="token comment">// 3.</span>
        module<span class="token punctuation">:</span> <span class="token operator">&amp;</span>shader<span class="token punctuation">,</span>
        entry_point<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token string">&quot;fs_main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        targets<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">ColorTargetState</span> <span class="token punctuation">{</span> <span class="token comment">// 4.</span>
            format<span class="token punctuation">:</span> config<span class="token punctuation">.</span>format<span class="token punctuation">,</span>
            blend<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">BlendState</span><span class="token punctuation">::</span><span class="token constant">REPLACE</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            write_mask<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">ColorWrites</span><span class="token punctuation">::</span><span class="token constant">ALL</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        compilation_options<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">PipelineCompilationOptions</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 계속...</span>
</code></pre></div><p>여기서 주목할 몇 가지 사항이 있습니다:</p> <ol><li>여기서 셰이더 내의 어떤 함수를 <code>entry_point</code>(진입점)로 사용할지 지정할 수 있습니다. 이들은 우리가 <code>@vertex</code>와 <code>@fragment</code>로 표시한 함수들입니다.</li> <li><code>buffers</code> 필드는 <code>wgpu</code>에 어떤 타입의 정점을 정점 셰이더로 전달할지 알려줍니다. 우리는 정점 셰이더 자체에서 정점을 지정하고 있으므로, 이 필드는 비워둡니다. 다음 튜토리얼에서 여기에 무언가를 넣을 것입니다.</li> <li><code>fragment</code>는 기술적으로 선택 사항이므로 <code>Some()</code>으로 감싸야 합니다. 색상 데이터를 <code>surface</code>에 저장하려면 이 필드가 필요합니다.</li> <li><code>targets</code> 필드는 <code>wgpu</code>에 어떤 색상 출력을 설정해야 하는지 알려줍니다. 현재는 <code>surface</code>를 위한 하나만 필요합니다. <code>surface</code>의 포맷을 사용하여 복사가 용이하도록 하고, 블렌딩은 이전 픽셀 데이터를 새 데이터로 교체하도록 지정합니다. 또한 <code>wgpu</code>에게 모든 색상(빨강, 파랑, 초록, 알파)에 쓰도록 지시합니다. <em><code>color_state</code>에 대해서는 텍스처를 다룰 때 더 이야기하겠습니다.</em></li></ol> <div class="language-rust extra-class"><pre class="language-rust"><code>    primitive<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">PrimitiveState</span> <span class="token punctuation">{</span>
        topology<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">PrimitiveTopology</span><span class="token punctuation">::</span><span class="token class-name">TriangleList</span><span class="token punctuation">,</span> <span class="token comment">// 1.</span>
        strip_index_format<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span>
        front_face<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">FrontFace</span><span class="token punctuation">::</span><span class="token class-name">Ccw</span><span class="token punctuation">,</span> <span class="token comment">// 2.</span>
        cull_mode<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Face</span><span class="token punctuation">::</span><span class="token class-name">Back</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// Fill 이외의 값으로 설정하려면 Features::NON_FILL_POLYGON_MODE가 필요합니다.</span>
        polygon_mode<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">PolygonMode</span><span class="token punctuation">::</span><span class="token class-name">Fill</span><span class="token punctuation">,</span>
        <span class="token comment">// Features::DEPTH_CLIP_CONTROL이 필요합니다.</span>
        unclipped_depth<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token comment">// Features::CONSERVATIVE_RASTERIZATION이 필요합니다.</span>
        conservative<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 계속...</span>
</code></pre></div><p><code>primitive</code> 필드는 정점을 삼각형으로 변환할 때 어떻게 해석할지 설명합니다.</p> <ol><li><code>PrimitiveTopology::TriangleList</code>를 사용하면 매 세 개의 정점이 하나의 삼각형에 해당하게 됩니다.</li> <li><code>front_face</code>와 <code>cull_mode</code> 필드는 <code>wgpu</code>에 주어진 삼각형이 앞면을 향하고 있는지 여부를 결정하는 방법을 알려줍니다. <code>FrontFace::Ccw</code>는 정점이 반시계 방향으로 배열될 경우 삼각형이 앞면을 향하고 있음을 의미합니다. 앞면을 향하지 않는 것으로 간주되는 삼각형은 <code>CullMode::Back</code>에 지정된 대로 컬링됩니다(렌더링에 포함되지 않음). 컬링에 대해서는 <code>Buffer</code>를 다룰 때 좀 더 자세히 설명하겠습니다.</li></ol> <div class="language-rust extra-class"><pre class="language-rust"><code>    depth_stencil<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span> <span class="token comment">// 1.</span>
    multisample<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">MultisampleState</span> <span class="token punctuation">{</span>
        count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 2.</span>
        mask<span class="token punctuation">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 3.</span>
        alpha_to_coverage_enabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 4.</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    multiview<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span> <span class="token comment">// 5.</span>
    cache<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span> <span class="token comment">// 6.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>메서드의 나머지 부분은 꽤 간단합니다:</p> <ol><li>현재 깊이/스텐실 버퍼를 사용하지 않으므로 <code>depth_stencil</code>은 <code>None</code>으로 둡니다. <em>이것은 나중에 변경될 것입니다</em>.</li> <li><code>count</code>는 파이프라인이 사용할 샘플 수를 결정합니다. 멀티샘플링은 복잡한 주제이므로 여기서는 다루지 않겠습니다.</li> <li><code>mask</code>는 어떤 샘플이 활성화되어야 하는지를 지정합니다. 이 경우 모든 샘플을 사용합니다.</li> <li><code>alpha_to_coverage_enabled</code>는 안티에일리어싱과 관련이 있습니다. 여기서는 안티에일리어싱을 다루지 않으므로 지금은 <code>false</code>로 둡니다.</li> <li><code>multiview</code>는 렌더 첨부 파일이 가질 수 있는 배열 레이어의 수를 나타냅니다. 우리는 배열 텍스처에 렌더링하지 않을 것이므로 <code>None</code>으로 설정할 수 있습니다.</li> <li><code>cache</code>는 wgpu가 셰이더 컴파일 데이터를 캐시하도록 허용합니다. 안드로이드 빌드 타겟에만 유용합니다.</li></ol> <p>이제 <code>render_pipeline</code>을 <code>State</code>에 추가하기만 하면 사용할 수 있습니다!</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token comment">// new()</span>
<span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token keyword">Self</span> <span class="token punctuation">{</span>
    surface<span class="token punctuation">,</span>
    device<span class="token punctuation">,</span>
    queue<span class="token punctuation">,</span>
    config<span class="token punctuation">,</span>
    is_surface_configured<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    render_pipeline<span class="token punctuation">,</span>
    window<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="파이프라인-사용하기"><a href="#파이프라인-사용하기" class="header-anchor">#</a> 파이프라인 사용하기</h2> <p>지금 프로그램을 실행하면 시작하는 데 시간이 조금 더 걸리지만, 여전히 지난 섹션에서 봤던 파란 화면이 나타날 것입니다. 이는 <code>render_pipeline</code>을 만들었지만, <code>render()</code>의 코드를 수정하여 실제로 사용하도록 해야 하기 때문입니다.</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token comment">// render()</span>

<span class="token comment">// ...</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 1.</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> render_pass <span class="token operator">=</span> encoder<span class="token punctuation">.</span><span class="token function">begin_render_pass</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">RenderPassDescriptor</span> <span class="token punctuation">{</span>
        label<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token string">&quot;Render Pass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        color_attachments<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span>
            <span class="token comment">// 이것이 프래그먼트 셰이더의 @location(0)이 타겟하는 것입니다.</span>
            <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">RenderPassColorAttachment</span> <span class="token punctuation">{</span>
                view<span class="token punctuation">:</span> <span class="token operator">&amp;</span>view<span class="token punctuation">,</span>
                resolve_target<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span>
                ops<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Operations</span> <span class="token punctuation">{</span>
                    load<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">LoadOp</span><span class="token punctuation">::</span><span class="token class-name">Clear</span><span class="token punctuation">(</span>
                        <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">Color</span> <span class="token punctuation">{</span>
                            r<span class="token punctuation">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
                            g<span class="token punctuation">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>
                            b<span class="token punctuation">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span>
                            a<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">)</span><span class="token punctuation">,</span>
                    store<span class="token punctuation">:</span> <span class="token namespace">wgpu<span class="token punctuation">::</span></span><span class="token class-name">StoreOp</span><span class="token punctuation">::</span><span class="token class-name">Store</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        depth_stencil_attachment<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// NEW!</span>
    render_pass<span class="token punctuation">.</span><span class="token function">set_pipeline</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>render_pipeline<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2.</span>
    render_pass<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">..</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">..</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3.</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
</code></pre></div><p>많이 바꾸지는 않았지만, 바뀐 부분에 대해 이야기해 봅시다.</p> <ol><li><code>_render_pass</code>를 <code>render_pass</code>로 이름을 바꾸고 가변(mutable)으로 만들었습니다.</li> <li><code>render_pass</code>에 방금 만든 파이프라인을 설정했습니다.</li> <li><code>wgpu</code>에게 3개의 정점과 1개의 인스턴스로 <em>무언가</em>를 그리라고 지시합니다. 바로 여기서 <code>@builtin(vertex_index)</code>가 사용됩니다.</li></ol> <p>이 모든 것을 마치면 사랑스러운 갈색 삼각형을 보게 될 것입니다.</p> <p><img src="data:image/png;base64,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Io8++misWLFi0McDAAA0wDPPPHPxrVljY2O+WR0AAEgzHNHb764HAACYzxw/pxEAAKC/3BEBAADSDUdE/MPf/t6gjwMAAGiI3Rtb3poFAADkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABAOiECAACkEyIAAEA6IQIAAKQTIgAAQDohAgAApBMiAABA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9Ri7of+ECAAAkE6IQB/ZUQOoLmM49JcQgT4xgQFUn7Ec+keIAAAA6YQI9IEdNID6MKZDfwgR6DETFkD9GNuh94QIAACQTohAD9kxA6gvYzz0lhCBHjFBAdSfsR56R4gAAADphAj0gB0ygOYw5kNvCBFYJhMSQPMY+2H5hAgAAJBOiMAy2BEDaC5zACyPEIElMgEBYC6ApRMiAABAOiECS2AHDIBLzAmwNEIEFsmEA8C1zA2weEIEAABIJ0RgEex4AXAj5ghYHCECC2SCAWA+5gpYOCECAACkEyKwAHa4AFgocwYsjBCBeZhQAFgscwfMb3jQBwBl9/14bNCHAABQO+6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmECAAAkE6IAAAA6YQIAACQTogAAADphAgAAJBOiAAAAOmGIyJ2b2wN+jgAAIAG+f/bSmo4C4fjXQAAAABJRU5ErkJggg==" alt="언급된 사랑스러운 갈색 삼각형"></p> <h2 id="데모"><a href="#데모" class="header-anchor">#</a> 데모</h2> <div id="wasm-example"><canvas id="canvas"></canvas> <!----> <button>Click to start Tutorial3_pipeline!</button></div> <div class="auto-github-link"><a href="https://github.com/sotrh/learn-wgpu/tree/master/code/beginner/tutorial3-pipeline/" target="_blank" rel="noopener noreferrer">Check out the code!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <h2 id="도전-과제"><a href="#도전-과제" class="header-anchor">#</a> 도전 과제</h2> <p>삼각형의 위치 데이터를 사용하여 색상을 만들고, 그 색상을 프래그먼트 셰이더로 보내는 두 번째 파이프라인을 만들어 보세요. 스페이스바를 누를 때마다 이 두 파이프라인이 서로 전환되도록 앱을 만들어 보세요. <em>힌트: <code>VertexOutput</code>을 수정해야 합니다.</em></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/11/2025, 8:57:07 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/learn-wgpu/beginner/tutorial2-surface/" class="prev">
          표면(The Surface)
        </a></span> <span class="next"><a href="/learn-wgpu/beginner/tutorial4-buffer/">
          버퍼와 인덱스
        </a>
        →
      </span></p></div> </main></div></div><div class="global-ui"><!----></div></div>
    <script src="/learn-wgpu/assets/js/app.796ffba2.js" defer></script><script src="/learn-wgpu/assets/js/3.d666109b.js" defer></script><script src="/learn-wgpu/assets/js/2.3bb15672.js" defer></script><script src="/learn-wgpu/assets/js/42.94b3689b.js" defer></script><script src="/learn-wgpu/assets/js/20.178554f0.js" defer></script><script src="/learn-wgpu/assets/js/37.a2b9f953.js" defer></script>
  </body>
</html>
